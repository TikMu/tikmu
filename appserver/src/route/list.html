<html>
	@ctx.aux.head.execute()
	<body>
		@ctx.aux.menu.execute()
		<div>
			@for (q in questions)
			{ @{var u = this.getUser(q.user);}
			<article id="question_card">
				<header id="question_card_header">
					<div id="user_avatar"></div>
					<div id="user_description">
						<div id="user_name">@u.name</div>
						<div id="user_reputation">302</div><!-- TODO -->
					</div>
				</header>
				<div id="question_card_question"><a href="/question/@q._id.valueOf()">@q.contents</a></div>
				<footer id="question_card_footer">
					<div id="location_date">@Std.random(10)km @Std.random(20)h</div><!-- TODO -->
					<div id="footer_icons">
						<a href="#" id="favorite" class="icon" onclick="r = new XMLHttpRequest(); r.open('POST', '/question/@q._id.valueOf()/favorite', false); r.send();">Favorite/unfavorite</a>
						<a href="#" id="follow" class="icon" onclick="r = new XMLHttpRequest(); r.open('POST', '/question/@q._id.valueOf()/follow', false); r.send();">Follow/unfollow</a>
					</div>
				</footer>	
				<div id="question_card_answers">
					@if (q.answers.length > 0)
					{
					<a href="/question/@q._id.valueOf()">@q.answers.length answers</a>
					}
					else
					{
					<a href="/question/@q._id.valueOf()">Answer</a>
					}
				</div>
			</article>
			}
		</div>
	</body>
</html>

