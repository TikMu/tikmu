<html>
	@ctx.aux.head.setData({ title : title }).execute()
	<script src="/js/advreq.js"></script>
	<body>
		@ctx.aux.menu.execute()
		<div>
			@for (q in questions)
			{ @{var u = this.getUser(q.user);}
			<article class="question_card" id="@q._id.valueOf()">
				<header class="question_card_header">
					<div id="user_avatar"></div>
					<div id="user_description">
						<div id="user_name">@u.name</div>
						<div id="user_reputation">302</div><!-- TODO -->
					</div>
				</header>
				<div class="question_card_question"><a href="/question/@q._id.valueOf()">@q.contents</a></div>
				<footer class="question_card_footer">
					<div id="location_date">@Std.random(10)km @Std.random(20)h</div><!-- TODO -->
					<div id="footer_icons">
						@if(ctx.loop.session.isAuthenticated()) {
						<a id="favorite" class=@if(q.state.favorite) { "icon icon_pressed" } else { "icon" } question-id="@q._id.valueOf()">Favorite/unfavorite</a>
						<a id="follow" class=@if(q.state.following) { "icon icon_pressed" } else { "icon" } question-id="@q._id.valueOf()">Follow/unfollow</a>
						}
					</div>
				</footer>	
				<div class="question_card_answers">
					@if (q.answers.length > 0)
					{
					<a href="/question/@q._id.valueOf()">@q.answers.length answers</a>
					}
					else
					{
					<a href="/question/@q._id.valueOf()">Answer</a>
					}
				</div>
			</article>
			}
		</div>
	</body>
</html>

